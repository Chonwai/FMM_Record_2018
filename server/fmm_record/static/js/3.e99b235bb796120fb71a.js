webpackJsonp([3],{d9cj:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s("mvHQ"),a=s.n(i),n=s("DEN3"),r=s.n(n),l={data:function(){return{users:[],editingUser:[],getAllExternalUserApi:r.a.URL+r.a.getAllExternalUserApi,updateExternalUserApi:r.a.URL+r.a.updateExternalUserApi}},methods:{getAllUser:function(){var e=this;this.$http.get(this.getAllExternalUserApi).then(function(t){e.users=t.data})},editUser:function(e){$(".edit-panel-container").css("display","flex"),this.editingUser=[],this.editingUser=JSON.parse(a()(e))},closePanel:function(){$(".edit-panel-container").hide()},updateUser:function(){var e=this;this.$http.post(this.updateExternalUserApi,a()(this.editingUser)).then(function(t){1==t.data.message?(swal("修改成功！",{icon:"success"}),$(".edit-panel-container").hide(),e.users=[],e.getAllUser()):swal("修改失敗！",{icon:"error"})})}},created:function(){this.getAllUser()}},c={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"edit-user-container"},[s("div",{staticClass:"edit-panel-container"},[s("div",{staticClass:"close-btn-container"},[s("div",{staticClass:"close-btn",on:{click:function(t){e.closePanel()}}},[e._v("×")])]),e._v(" "),s("div",{staticClass:"edit-panel"},[s("h1",[e._v("修改外部用戶資料")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.editingUser.userName,expression:"editingUser.userName"}],staticClass:"form-input",attrs:{placeholder:"用戶名稱：",title:"用戶名稱"},domProps:{value:e.editingUser.userName},on:{input:function(t){t.target.composing||e.$set(e.editingUser,"userName",t.target.value)}}}),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.editingUser.staffNumber,expression:"editingUser.staffNumber"}],staticClass:"form-input",attrs:{placeholder:"用戶編號："},domProps:{value:e.editingUser.staffNumber},on:{input:function(t){t.target.composing||e.$set(e.editingUser,"staffNumber",t.target.value)}}}),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.editingUser.department,expression:"editingUser.department"}],staticClass:"form-input",attrs:{placeholder:"用戶部門",title:"用戶部門"},domProps:{value:e.editingUser.department},on:{input:function(t){t.target.composing||e.$set(e.editingUser,"department",t.target.value)}}}),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.editingUser.sum,expression:"editingUser.sum"}],staticClass:"form-input",attrs:{placeholder:"用戶累計：",title:"用戶累計"},domProps:{value:e.editingUser.sum},on:{input:function(t){t.target.composing||e.$set(e.editingUser,"sum",t.target.value)}}}),e._v(" "),s("div",{staticClass:"form-input submit-btn update-btn",on:{click:function(t){e.updateUser()}}},[s("p",[e._v("更新")])])])]),e._v(" "),e._m(0),e._v(" "),s("div",{staticClass:"all-fat-card-container"},e._l(e.users,function(t){return s("div",{key:t.key,staticClass:"fat-card-item"},[s("div",{staticClass:"fat-card-info"},[s("div",{staticClass:"fat-card-text-container"},[s("h2",[e._v(e._s(t.userName))]),e._v(" "),s("p",[e._v("用戶編號："+e._s(t.staffNumber))]),e._v(" "),s("p",[e._v("聯絡電話："+e._s(t.userContact))]),e._v(" "),s("p",[e._v("用戶累計："+e._s(t.sum))])]),e._v(" "),e._m(1,!0)]),e._v(" "),s("button",{staticClass:"fat-card-edit-btn",on:{click:function(s){e.editUser(t)}}},[e._v("修改")])])}))])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"title"},[t("h1",[this._v("外部用戶資料")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"fat-card-img-container"},[t("img",{attrs:{src:s("pLQe")}})])}]};var o=s("VU/8")(l,c,!1,function(e){s("f1sI")},"data-v-8883498a",null);t.default=o.exports},f1sI:function(e,t){},pLQe:function(e,t,s){e.exports=s.p+"static/img/healthy-boy.2b72b43.svg"}});
//# sourceMappingURL=3.e99b235bb796120fb71a.js.map