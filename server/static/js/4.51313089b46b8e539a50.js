webpackJsonp([4],{K6Xr:function(t,e){},d9cj:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("mvHQ"),a=s.n(i),n={data:function(){return{users:[],editingUser:[],getAllExternalUserApi:"http://localhost:8888/index.php/api/external_user",updateExternalUserApi:"http://localhost:8888/index.php/api/external_user"}},methods:{getAllUser:function(){var t=this;this.$http.get(this.getAllExternalUserApi).then(function(e){t.users=e.data})},editUser:function(t){$(".edit-panel-container").css("display","flex"),this.editingUser=[],this.editingUser=JSON.parse(a()(t))},closePanel:function(){$(".edit-panel-container").hide()},updateUser:function(){var t=this;this.$http.put(this.updateExternalUserApi,a()(this.editingUser)).then(function(e){1==e.data.message?(swal("修改成功！",{icon:"success"}),$(".edit-panel-container").hide(),t.users=[],t.getAllUser()):swal("修改失敗！",{icon:"error"})})}},created:function(){this.getAllUser()}},r={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"edit-user-container"},[s("div",{staticClass:"edit-panel-container"},[s("div",{staticClass:"close-btn-container"},[s("div",{staticClass:"close-btn",on:{click:function(e){t.closePanel()}}},[t._v("×")])]),t._v(" "),s("div",{staticClass:"edit-panel"},[s("h1",[t._v("修改外部用戶資料")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.editingUser.userName,expression:"editingUser.userName"}],staticClass:"form-input",attrs:{placeholder:"用戶名稱：",title:"用戶名稱"},domProps:{value:t.editingUser.userName},on:{input:function(e){e.target.composing||t.$set(t.editingUser,"userName",e.target.value)}}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.editingUser.staffNumber,expression:"editingUser.staffNumber"}],staticClass:"form-input",attrs:{placeholder:"用戶編號："},domProps:{value:t.editingUser.staffNumber},on:{input:function(e){e.target.composing||t.$set(t.editingUser,"staffNumber",e.target.value)}}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.editingUser.department,expression:"editingUser.department"}],staticClass:"form-input",attrs:{placeholder:"用戶部門",title:"用戶部門"},domProps:{value:t.editingUser.department},on:{input:function(e){e.target.composing||t.$set(t.editingUser,"department",e.target.value)}}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.editingUser.sum,expression:"editingUser.sum"}],staticClass:"form-input",attrs:{placeholder:"用戶累計：",title:"用戶累計"},domProps:{value:t.editingUser.sum},on:{input:function(e){e.target.composing||t.$set(t.editingUser,"sum",e.target.value)}}}),t._v(" "),s("div",{staticClass:"form-input submit-btn update-btn",on:{click:function(e){t.updateUser()}}},[s("p",[t._v("更新")])])])]),t._v(" "),t._m(0),t._v(" "),s("div",{staticClass:"all-fat-card-container"},t._l(t.users,function(e){return s("div",{key:e.key,staticClass:"fat-card-item"},[s("div",{staticClass:"fat-card-info"},[s("div",{staticClass:"fat-card-text-container"},[s("h2",[t._v(t._s(e.userName))]),t._v(" "),s("p",[t._v("用戶編號："+t._s(e.staffNumber))]),t._v(" "),s("p",[t._v("聯絡電話："+t._s(e.userContact))]),t._v(" "),s("p",[t._v("用戶累計："+t._s(e.sum))])]),t._v(" "),t._m(1,!0)]),t._v(" "),s("button",{staticClass:"fat-card-edit-btn",on:{click:function(s){t.editUser(e)}}},[t._v("修改")])])}))])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title"},[e("h1",[this._v("外部用戶資料")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"fat-card-img-container"},[e("img",{attrs:{src:s("pLQe")}})])}]};var l=s("VU/8")(n,r,!1,function(t){s("K6Xr")},"data-v-660d6056",null);e.default=l.exports},pLQe:function(t,e,s){t.exports=s.p+"static/img/healthy-boy.2b72b43.svg"}});
//# sourceMappingURL=4.51313089b46b8e539a50.js.map